/*!
 * w-opencc v1.0.0
 * (c) 2018-2021 yuda-lyu(semisphere)
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("path"),require("fs"),require("process"),require("child_process")):"function"==typeof define&&define.amd?define(["path","fs","process","child_process"],e):(t="undefined"!=typeof globalThis?globalThis:t||self)["w-opencc"]=e(t.path,t.fs,t.process,t.child_process)}(this,(function(t,e,r,n){"use strict";var o=Array.isArray,i="object"==typeof global&&global&&global.Object===Object&&global,u="object"==typeof self&&self&&self.Object===Object&&self,a=i||u||Function("return this")(),c=a.Symbol,f=Object.prototype,s=f.hasOwnProperty,l=f.toString,p=c?c.toStringTag:void 0;var h=Object.prototype.toString;var y=c?c.toStringTag:void 0;function v(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":y&&y in Object(t)?function(t){var e=s.call(t,p),r=t[p];try{t[p]=void 0;var n=!0}catch(t){}var o=l.call(t);return n&&(e?t[p]=r:delete t[p]),o}(t):function(t){return h.call(t)}(t)}function d(t){return null!=t&&"object"==typeof t}function b(t){return"symbol"==typeof t||d(t)&&"[object Symbol]"==v(t)}var _=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,g=/^\w*$/;function j(t,e){if(o(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!b(t))||(g.test(t)||!_.test(t)||null!=e&&t in Object(e))}function w(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function m(t){if(!w(t))return!1;var e=v(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}var O,S=a["__core-js_shared__"],x=(O=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||""))?"Symbol(src)_1."+O:"";var A=Function.prototype.toString;function z(t){if(null!=t){try{return A.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var B=/^\[object .+?Constructor\]$/,P=Function.prototype,$=Object.prototype,k=P.toString,M=$.hasOwnProperty,T=RegExp("^"+k.call(M).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function C(t){return!(!w(t)||(e=t,x&&x in e))&&(m(t)?T:B).test(z(t));var e}function E(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return C(r)?r:void 0}var F=E(Object,"create");var I=Object.prototype.hasOwnProperty;var N=Object.prototype.hasOwnProperty;function U(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function D(t,e){return t===e||t!=t&&e!=e}function R(t,e){for(var r=t.length;r--;)if(D(t[r][0],e))return r;return-1}U.prototype.clear=function(){this.__data__=F?F(null):{},this.size=0},U.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},U.prototype.get=function(t){var e=this.__data__;if(F){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return I.call(e,t)?e[t]:void 0},U.prototype.has=function(t){var e=this.__data__;return F?void 0!==e[t]:N.call(e,t)},U.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=F&&void 0===e?"__lodash_hash_undefined__":e,this};var L=Array.prototype.splice;function q(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}q.prototype.clear=function(){this.__data__=[],this.size=0},q.prototype.delete=function(t){var e=this.__data__,r=R(e,t);return!(r<0)&&(r==e.length-1?e.pop():L.call(e,r,1),--this.size,!0)},q.prototype.get=function(t){var e=this.__data__,r=R(e,t);return r<0?void 0:e[r][1]},q.prototype.has=function(t){return R(this.__data__,t)>-1},q.prototype.set=function(t,e){var r=this.__data__,n=R(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};var H=E(a,"Map");function V(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map}function W(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}W.prototype.clear=function(){this.size=0,this.__data__={hash:new U,map:new(H||q),string:new U}},W.prototype.delete=function(t){var e=V(this,t).delete(t);return this.size-=e?1:0,e},W.prototype.get=function(t){return V(this,t).get(t)},W.prototype.has=function(t){return V(this,t).has(t)},W.prototype.set=function(t,e){var r=V(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function G(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var u=t.apply(this,n);return r.cache=i.set(o,u)||i,u};return r.cache=new(G.Cache||W),r}G.Cache=W;var J,K,Q,X=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Y=/\\(\\)?/g,Z=(J=function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(X,(function(t,r,n,o){e.push(n?o.replace(Y,"$1"):r||t)})),e},K=G(J,(function(t){return 500===Q.size&&Q.clear(),t})),Q=K.cache,K),tt=Z;function et(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}var rt=c?c.prototype:void 0,nt=rt?rt.toString:void 0;function ot(t){if("string"==typeof t)return t;if(o(t))return et(t,ot)+"";if(b(t))return nt?nt.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function it(t){return null==t?"":ot(t)}function ut(t,e){return o(t)?t:j(t,e)?[t]:tt(it(t))}function at(t){if("string"==typeof t||b(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function ct(t,e){for(var r=0,n=(e=ut(e,t)).length;null!=t&&r<n;)t=t[at(e[r++])];return r&&r==n?t:void 0}function ft(t,e,r){var n=null==t?void 0:ct(t,e);return void 0===n?r:n}var st=/\s/;var lt=/^\s+/;function pt(t){return t?t.slice(0,function(t){for(var e=t.length;e--&&st.test(t.charAt(e)););return e}(t)+1).replace(lt,""):t}var ht=/^[-+]0x[0-9a-f]+$/i,yt=/^0b[01]+$/i,vt=/^0o[0-7]+$/i,dt=parseInt;function bt(t){if("number"==typeof t)return t;if(b(t))return NaN;if(w(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=w(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=pt(t);var r=yt.test(t);return r||vt.test(t)?dt(t.slice(2),r?2:8):ht.test(t)?NaN:+t}var _t=1/0;function gt(t){return t?(t=bt(t))===_t||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function jt(t){var e=gt(t),r=e%1;return e==e?r?e-r:e:0}function wt(t){return!(!function(t){return"[object String]"===Object.prototype.toString.call(t)}(t)||""===t)}function mt(t){let e=!1;if(wt(t))e=!isNaN(Number(t));else if(function(t){return"[object Number]"===Object.prototype.toString.call(t)}(t)){if(function(t){return t!=t}(t))return!1;e=!0}return e}function Ot(t){if(!mt(t))return 0;return gt(t)}function St(t){return!!mt(t)&&(t=Ot(t),"number"==typeof(e=t)&&e==jt(e));var e}var xt=a.isFinite,At=Math.min;var zt=function(t){var e=Math[t];return function(t,r){if(t=bt(t),(r=null==r?0:At(jt(r),292))&&xt(t)){var n=(it(t)+"e").split("e");return+((n=(it(e(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return e(t)}}("round"),Bt=zt;function Pt(t){if(!mt(t))return 0;t=Ot(t);let e=Bt(t);return"0"===String(e)?0:e}let $t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),kt=$t.length;function Mt(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,e=[];var r;t=St(r=t)&&Pt(r)>0?Pt(t):32;for(let r=0;r<t;r++)e[r]=$t[0|Math.random()*kt];return e.join("")}var Tt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Ct(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Et(t){if(t.__esModule)return t;var e=t.default;if("function"==typeof e){var r=function t(){if(this instanceof t){var r=[null];return r.push.apply(r,arguments),new(Function.bind.apply(e,r))}return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach((function(e){var n=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(r,e,n.get?n:{enumerable:!0,get:function(){return t[e]}})})),r}var Ft={exports:{}};var It,Nt={exports:{}},Ut=Et(Object.freeze({__proto__:null,default:{}}));function Dt(){return It||(It=1,function(t){var e;t.exports=(e=e||function(t,e){var r;if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),"undefined"!=typeof self&&self.crypto&&(r=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&void 0!==Tt&&Tt.crypto&&(r=Tt.crypto),!r)try{r=Ut}catch(t){}var n=function(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function t(){}return function(e){var r;return t.prototype=e,r=new t,t.prototype=null,r}}(),i={},u=i.lib={},a=u.Base={extend:function(t){var e=o(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},c=u.WordArray=a.extend({init:function(t,r){t=this.words=t||[],this.sigBytes=r!=e?r:4*t.length},toString:function(t){return(t||s).stringify(this)},concat:function(t){var e=this.words,r=t.words,n=this.sigBytes,o=t.sigBytes;if(this.clamp(),n%4)for(var i=0;i<o;i++){var u=r[i>>>2]>>>24-i%4*8&255;e[n+i>>>2]|=u<<24-(n+i)%4*8}else for(var a=0;a<o;a+=4)e[n+a>>>2]=r[a>>>2];return this.sigBytes+=o,this},clamp:function(){var e=this.words,r=this.sigBytes;e[r>>>2]&=4294967295<<32-r%4*8,e.length=t.ceil(r/4)},clone:function(){var t=a.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],r=0;r<t;r+=4)e.push(n());return new c.init(e,t)}}),f=i.enc={},s=f.Hex={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],o=0;o<r;o++){var i=e[o>>>2]>>>24-o%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new c.init(r,e/2)}},l=f.Latin1={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],o=0;o<r;o++){var i=e[o>>>2]>>>24-o%4*8&255;n.push(String.fromCharCode(i))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new c.init(r,e)}},p=f.Utf8={stringify:function(t){try{return decodeURIComponent(escape(l.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return l.parse(unescape(encodeURIComponent(t)))}},h=u.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=p.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var r,n=this._data,o=n.words,i=n.sigBytes,u=this.blockSize,a=i/(4*u),f=(a=e?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*u,s=t.min(4*f,i);if(f){for(var l=0;l<f;l+=u)this._doProcessBlock(o,l);r=o.splice(0,f),n.sigBytes-=s}return new c.init(r,s)},clone:function(){var t=a.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});u.Hasher=h.extend({cfg:a.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,r){return new t.init(r).finalize(e)}},_createHmacHelper:function(t){return function(e,r){return new y.HMAC.init(t,r).finalize(e)}}});var y=i.algo={};return i}(Math),e)}(Nt)),Nt.exports}!function(t){t.exports=Dt().enc.Utf8}(Ft);var Rt=Ct(Ft.exports),Lt={exports:{}};!function(t){var e;t.exports=(e=Dt(),function(){var t=e,r=t.lib.WordArray;function n(t,e,n){for(var o=[],i=0,u=0;u<e;u++)if(u%4){var a=n[t.charCodeAt(u-1)]<<u%4*2|n[t.charCodeAt(u)]>>>6-u%4*2;o[i>>>2]|=a<<24-i%4*8,i++}return r.create(o,i)}t.enc.Base64={stringify:function(t){var e=t.words,r=t.sigBytes,n=this._map;t.clamp();for(var o=[],i=0;i<r;i+=3)for(var u=(e[i>>>2]>>>24-i%4*8&255)<<16|(e[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|e[i+2>>>2]>>>24-(i+2)%4*8&255,a=0;a<4&&i+.75*a<r;a++)o.push(n.charAt(u>>>6*(3-a)&63));var c=n.charAt(64);if(c)for(;o.length%4;)o.push(c);return o.join("")},parse:function(t){var e=t.length,r=this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var i=0;i<r.length;i++)o[r.charCodeAt(i)]=i}var u=r.charAt(64);if(u){var a=t.indexOf(u);-1!==a&&(e=a)}return n(t,e,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.enc.Base64)}(Lt);var qt=Ct(Lt.exports);function Ht(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var u=t[r];e(u,r,t)&&(i[o++]=u)}return i}var Vt,Wt=function(t,e,r){for(var n=-1,o=Object(t),i=r(t),u=i.length;u--;){var a=i[Vt?u:++n];if(!1===e(o[a],a,o))break}return t};function Gt(t){return d(t)&&"[object Arguments]"==v(t)}var Jt=Object.prototype,Kt=Jt.hasOwnProperty,Qt=Jt.propertyIsEnumerable,Xt=Gt(function(){return arguments}())?Gt:function(t){return d(t)&&Kt.call(t,"callee")&&!Qt.call(t,"callee")},Yt=Xt;var Zt="object"==typeof exports&&exports&&!exports.nodeType&&exports,te=Zt&&"object"==typeof module&&module&&!module.nodeType&&module,ee=te&&te.exports===Zt?a.Buffer:void 0,re=(ee?ee.isBuffer:void 0)||function(){return!1},ne=/^(?:0|[1-9]\d*)$/;function oe(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&ne.test(t))&&t>-1&&t%1==0&&t<e}function ie(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}var ue={};ue["[object Float32Array]"]=ue["[object Float64Array]"]=ue["[object Int8Array]"]=ue["[object Int16Array]"]=ue["[object Int32Array]"]=ue["[object Uint8Array]"]=ue["[object Uint8ClampedArray]"]=ue["[object Uint16Array]"]=ue["[object Uint32Array]"]=!0,ue["[object Arguments]"]=ue["[object Array]"]=ue["[object ArrayBuffer]"]=ue["[object Boolean]"]=ue["[object DataView]"]=ue["[object Date]"]=ue["[object Error]"]=ue["[object Function]"]=ue["[object Map]"]=ue["[object Number]"]=ue["[object Object]"]=ue["[object RegExp]"]=ue["[object Set]"]=ue["[object String]"]=ue["[object WeakMap]"]=!1;var ae="object"==typeof exports&&exports&&!exports.nodeType&&exports,ce=ae&&"object"==typeof module&&module&&!module.nodeType&&module,fe=ce&&ce.exports===ae&&i.process,se=function(){try{var t=ce&&ce.require&&ce.require("util").types;return t||fe&&fe.binding&&fe.binding("util")}catch(t){}}(),le=se&&se.isTypedArray,pe=le?function(t){return function(e){return t(e)}}(le):function(t){return d(t)&&ie(t.length)&&!!ue[v(t)]},he=pe,ye=Object.prototype.hasOwnProperty;function ve(t,e){var r=o(t),n=!r&&Yt(t),i=!r&&!n&&re(t),u=!r&&!n&&!i&&he(t),a=r||n||i||u,c=a?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],f=c.length;for(var s in t)!e&&!ye.call(t,s)||a&&("length"==s||i&&("offset"==s||"parent"==s)||u&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||oe(s,f))||c.push(s);return c}var de=Object.prototype;var be=function(t,e){return function(r){return t(e(r))}}(Object.keys,Object),_e=be,ge=Object.prototype.hasOwnProperty;function je(t){if(r=(e=t)&&e.constructor,e!==("function"==typeof r&&r.prototype||de))return _e(t);var e,r,n=[];for(var o in Object(t))ge.call(t,o)&&"constructor"!=o&&n.push(o);return n}function we(t){return null!=t&&ie(t.length)&&!m(t)}function me(t){return we(t)?ve(t):je(t)}var Oe=function(t,e){return function(r,n){if(null==r)return r;if(!we(r))return t(r,n);for(var o=r.length,i=e?o:-1,u=Object(r);(e?i--:++i<o)&&!1!==n(u[i],i,u););return r}}((function(t,e){return t&&Wt(t,e,me)})),Se=Oe;function xe(t,e){var r=[];return Se(t,(function(t,n,o){e(t,n,o)&&r.push(t)})),r}function Ae(t){var e=this.__data__=new q(t);this.size=e.size}Ae.prototype.clear=function(){this.__data__=new q,this.size=0},Ae.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Ae.prototype.get=function(t){return this.__data__.get(t)},Ae.prototype.has=function(t){return this.__data__.has(t)},Ae.prototype.set=function(t,e){var r=this.__data__;if(r instanceof q){var n=r.__data__;if(!H||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new W(n)}return r.set(t,e),this.size=r.size,this};function ze(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new W;++e<r;)this.add(t[e])}function Be(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function Pe(t,e){return t.has(e)}ze.prototype.add=ze.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},ze.prototype.has=function(t){return this.__data__.has(t)};function $e(t,e,r,n,o,i){var u=1&r,a=t.length,c=e.length;if(a!=c&&!(u&&c>a))return!1;var f=i.get(t),s=i.get(e);if(f&&s)return f==e&&s==t;var l=-1,p=!0,h=2&r?new ze:void 0;for(i.set(t,e),i.set(e,t);++l<a;){var y=t[l],v=e[l];if(n)var d=u?n(v,y,l,e,t,i):n(y,v,l,t,e,i);if(void 0!==d){if(d)continue;p=!1;break}if(h){if(!Be(e,(function(t,e){if(!Pe(h,e)&&(y===t||o(y,t,r,n,i)))return h.push(e)}))){p=!1;break}}else if(y!==v&&!o(y,v,r,n,i)){p=!1;break}}return i.delete(t),i.delete(e),p}var ke=a.Uint8Array;function Me(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function Te(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var Ce=c?c.prototype:void 0,Ee=Ce?Ce.valueOf:void 0;var Fe=Object.prototype.propertyIsEnumerable,Ie=Object.getOwnPropertySymbols,Ne=Ie?function(t){return null==t?[]:(t=Object(t),Ht(Ie(t),(function(e){return Fe.call(t,e)})))}:function(){return[]};function Ue(t){return function(t,e,r){var n=e(t);return o(t)?n:function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}(n,r(t))}(t,me,Ne)}var De=Object.prototype.hasOwnProperty;var Re=E(a,"DataView"),Le=E(a,"Promise"),qe=E(a,"Set"),He=E(a,"WeakMap"),Ve="[object Map]",We="[object Promise]",Ge="[object Set]",Je="[object WeakMap]",Ke="[object DataView]",Qe=z(Re),Xe=z(H),Ye=z(Le),Ze=z(qe),tr=z(He),er=v;(Re&&er(new Re(new ArrayBuffer(1)))!=Ke||H&&er(new H)!=Ve||Le&&er(Le.resolve())!=We||qe&&er(new qe)!=Ge||He&&er(new He)!=Je)&&(er=function(t){var e=v(t),r="[object Object]"==e?t.constructor:void 0,n=r?z(r):"";if(n)switch(n){case Qe:return Ke;case Xe:return Ve;case Ye:return We;case Ze:return Ge;case tr:return Je}return e});var rr=er,nr="[object Arguments]",or="[object Array]",ir="[object Object]",ur=Object.prototype.hasOwnProperty;function ar(t,e,r,n,i,u){var a=o(t),c=o(e),f=a?or:rr(t),s=c?or:rr(e),l=(f=f==nr?ir:f)==ir,p=(s=s==nr?ir:s)==ir,h=f==s;if(h&&re(t)){if(!re(e))return!1;a=!0,l=!1}if(h&&!l)return u||(u=new Ae),a||he(t)?$e(t,e,r,n,i,u):function(t,e,r,n,o,i,u){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new ke(t),new ke(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return D(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=Me;case"[object Set]":var c=1&n;if(a||(a=Te),t.size!=e.size&&!c)return!1;var f=u.get(t);if(f)return f==e;n|=2,u.set(t,e);var s=$e(a(t),a(e),n,o,i,u);return u.delete(t),s;case"[object Symbol]":if(Ee)return Ee.call(t)==Ee.call(e)}return!1}(t,e,f,r,n,i,u);if(!(1&r)){var y=l&&ur.call(t,"__wrapped__"),v=p&&ur.call(e,"__wrapped__");if(y||v){var d=y?t.value():t,b=v?e.value():e;return u||(u=new Ae),i(d,b,r,n,u)}}return!!h&&(u||(u=new Ae),function(t,e,r,n,o,i){var u=1&r,a=Ue(t),c=a.length;if(c!=Ue(e).length&&!u)return!1;for(var f=c;f--;){var s=a[f];if(!(u?s in e:De.call(e,s)))return!1}var l=i.get(t),p=i.get(e);if(l&&p)return l==e&&p==t;var h=!0;i.set(t,e),i.set(e,t);for(var y=u;++f<c;){var v=t[s=a[f]],d=e[s];if(n)var b=u?n(d,v,s,e,t,i):n(v,d,s,t,e,i);if(!(void 0===b?v===d||o(v,d,r,n,i):b)){h=!1;break}y||(y="constructor"==s)}if(h&&!y){var _=t.constructor,g=e.constructor;_==g||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof g&&g instanceof g||(h=!1)}return i.delete(t),i.delete(e),h}(t,e,r,n,i,u))}function cr(t,e,r,n,o){return t===e||(null==t||null==e||!d(t)&&!d(e)?t!=t&&e!=e:ar(t,e,r,n,cr,o))}function fr(t){return t==t&&!w(t)}function sr(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}function lr(t){var e=function(t){for(var e=me(t),r=e.length;r--;){var n=e[r],o=t[n];e[r]=[n,o,fr(o)]}return e}(t);return 1==e.length&&e[0][2]?sr(e[0][0],e[0][1]):function(r){return r===t||function(t,e,r,n){var o=r.length,i=o,u=!n;if(null==t)return!i;for(t=Object(t);o--;){var a=r[o];if(u&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<i;){var c=(a=r[o])[0],f=t[c],s=a[1];if(u&&a[2]){if(void 0===f&&!(c in t))return!1}else{var l=new Ae;if(n)var p=n(f,s,c,t,e,l);if(!(void 0===p?cr(s,f,3,n,l):p))return!1}}return!0}(r,t,e)}}function pr(t,e){return null!=t&&e in Object(t)}function hr(t,e){return null!=t&&function(t,e,r){for(var n=-1,i=(e=ut(e,t)).length,u=!1;++n<i;){var a=at(e[n]);if(!(u=null!=t&&r(t,a)))break;t=t[a]}return u||++n!=i?u:!!(i=null==t?0:t.length)&&ie(i)&&oe(a,i)&&(o(t)||Yt(t))}(t,e,pr)}function yr(t){return t}function vr(t){return j(t)?(e=at(t),function(t){return null==t?void 0:t[e]}):function(t){return function(e){return ct(e,t)}}(t);var e}function dr(t){return"function"==typeof t?t:null==t?yr:"object"==typeof t?o(t)?function(t,e){return j(t)&&fr(e)?sr(at(t),e):function(r){var n=ft(r,t);return void 0===n&&n===e?hr(r,t):cr(e,n,3)}}(t[0],t[1]):lr(t):vr(t)}function br(t,e){var r=-1,n=we(t)?Array(t.length):[];return Se(t,(function(t,o,i){n[++r]=e(t,o,i)})),n}var _r=Array.prototype.join;function gr(t,e){return new Promise((function(r,i){var u;u=e,"[object Array]"!==Object.prototype.toString.call(u)&&(e=[e]);let a=n.spawnSync(t,e),c=(f=a.output,s=t=>null!==t,(o(f)?Ht:xe)(f,dr(s)));var f,s;c=function(t,e){return(o(t)?et:br)(t,dr(e))}(c,(t=>function(t){try{return t.toString("utf8")}catch(t){}return""}(t)));let l=(h="",null==(p=c)?"":_r.call(p,h));var p,h;let y=ft(a,"error.message");y?i(y):r(l)}))}function jr(t){return!!e.existsSync(t)&&(!e.lstatSync(t).isDirectory()&&!e.lstatSync(t).isSymbolicLink())}let wr=t.resolve(),mr="cvcc.exe";return async function(t){let n=null;if("win32"!==r.platform)return Promise.reject("operating system is not windows");if(!wt(t))return Promise.reject("str is not a string");let o=function(){let t=`${wr}/src/`,e=`${wr}/node_modules/w-opencc/src/`;return jr(`${t}${mr}`)?t:jr(`${e}${mr}`)?e:{error:"can not find executable file for opencc"}}();if(ft(o,"error"))return Promise.reject(o.error);let i=`${o}${mr}`,u=Mt(),a=`${o}_${u}_fpIn.txt`,c=`${o}_${u}_fpOut.txt`,f=t;e.writeFileSync(a,f,"utf8");let s={fpIn:a,fpOut:c,opt:{}},l=function(t){if(!wt(t))return"";let e=Rt.parse(t);return qt.stringify(e)}(JSON.stringify(s));await gr(i,l).catch((t=>{console.log("WOpencc execScript catch",t),n=t}));let p=e.readFileSync(c,"utf8");try{e.unlinkSync(a)}catch(t){}try{e.unlinkSync(c)}catch(t){}return null!==n?Promise.reject(n):(wt(p)||(n=`output[${function(t){if(!wt(t)&&!mt(t)&&!b(t))return"";let e="";try{e=String(t)}catch(t){}try{e=t.toString()}catch(t){}return e}(p)}] is not a string`),null!==n?Promise.reject(n):p)}}));
//# sourceMappingURL=w-opencc.umd.js.map
